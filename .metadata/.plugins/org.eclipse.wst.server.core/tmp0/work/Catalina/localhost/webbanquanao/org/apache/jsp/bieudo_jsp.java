/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: Apache Tomcat/11.0.0-M22
 * Generated at: 2024-12-23 08:37:22 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp;

import jakarta.servlet.*;
import jakarta.servlet.http.*;
import jakarta.servlet.jsp.*;
import java.util.Map;
import model.User;
import model.ChiTietSanPham;
import model.DanhMuc;
import model.SanPham;
import java.util.List;
import Reponsitory.LaydulieuReponsitory;

public final class bieudo_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent,
                 org.apache.jasper.runtime.JspSourceImports,
                 org.apache.jasper.runtime.JspSourceDirectives {

  private static final jakarta.servlet.jsp.JspFactory _jspxFactory =
          jakarta.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  private static final java.util.Set<java.lang.String> _jspx_imports_packages;

  private static final java.util.Set<java.lang.String> _jspx_imports_classes;

  static {
    _jspx_imports_packages = new java.util.LinkedHashSet<>(4);
    _jspx_imports_packages.add("jakarta.servlet");
    _jspx_imports_packages.add("jakarta.servlet.http");
    _jspx_imports_packages.add("jakarta.servlet.jsp");
    _jspx_imports_classes = new java.util.LinkedHashSet<>(10);
    _jspx_imports_classes.add("java.util.List");
    _jspx_imports_classes.add("model.ChiTietSanPham");
    _jspx_imports_classes.add("java.util.Map");
    _jspx_imports_classes.add("model.User");
    _jspx_imports_classes.add("Reponsitory.LaydulieuReponsitory");
    _jspx_imports_classes.add("model.SanPham");
    _jspx_imports_classes.add("model.DanhMuc");
  }

  private volatile jakarta.el.ExpressionFactory _el_expressionfactory;
  private volatile org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public java.util.Set<java.lang.String> getPackageImports() {
    return _jspx_imports_packages;
  }

  public java.util.Set<java.lang.String> getClassImports() {
    return _jspx_imports_classes;
  }

  public boolean getErrorOnELNotFound() {
    return false;
  }

  public jakarta.el.ExpressionFactory _jsp_getExpressionFactory() {
    if (_el_expressionfactory == null) {
      synchronized (this) {
        if (_el_expressionfactory == null) {
          _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
        }
      }
    }
    return _el_expressionfactory;
  }

  public org.apache.tomcat.InstanceManager _jsp_getInstanceManager() {
    if (_jsp_instancemanager == null) {
      synchronized (this) {
        if (_jsp_instancemanager == null) {
          _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
        }
      }
    }
    return _jsp_instancemanager;
  }

  public void _jspInit() {
  }

  public void _jspDestroy() {
  }

  public void _jspService(final jakarta.servlet.http.HttpServletRequest request, final jakarta.servlet.http.HttpServletResponse response)
      throws java.io.IOException, jakarta.servlet.ServletException {

    if (!jakarta.servlet.DispatcherType.ERROR.equals(request.getDispatcherType())) {
      final java.lang.String _jspx_method = request.getMethod();
      if ("OPTIONS".equals(_jspx_method)) {
        response.setHeader("Allow","GET, HEAD, POST, OPTIONS");
        return;
      }
      if (!"GET".equals(_jspx_method) && !"POST".equals(_jspx_method) && !"HEAD".equals(_jspx_method)) {
        response.setHeader("Allow","GET, HEAD, POST, OPTIONS");
        response.sendError(HttpServletResponse.SC_METHOD_NOT_ALLOWED, "JSPs only permit GET, POST or HEAD. Jasper also permits OPTIONS");
        return;
      }
    }

    final jakarta.servlet.jsp.PageContext pageContext;
    jakarta.servlet.http.HttpSession session = null;
    final jakarta.servlet.ServletContext application;
    final jakarta.servlet.ServletConfig config;
    jakarta.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    jakarta.servlet.jsp.JspWriter _jspx_out = null;
    jakarta.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html; charset=UTF-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("<!DOCTYPE html>\r\n");
      out.write("<html lang=\"en\">\r\n");
      out.write("\r\n");
      out.write("<head>\r\n");
      out.write("<meta charset=\"utf-8\">\r\n");
      out.write("<meta content=\"width=device-width, initial-scale=1.0\" name=\"viewport\">\r\n");
      out.write("\r\n");
      out.write("<title>Admin/Product</title>\r\n");
      out.write("<meta content=\"\" name=\"description\">\r\n");
      out.write("<meta content=\"\" name=\"keywords\">\r\n");
      out.write("\r\n");
      out.write("<!-- Favicons -->\r\n");
      out.write("<link href=\"assetsquantri/img/favicon.png\" rel=\"icon\">\r\n");
      out.write("<link href=\"assetsquantri/img/apple-touch-icon.png\"\r\n");
      out.write("	rel=\"apple-touch-icon\">\r\n");
      out.write("\r\n");
      out.write("<!-- Google Fonts -->\r\n");
      out.write("<link href=\"https://fonts.gstatic.com\" rel=\"preconnect\">\r\n");
      out.write("<link\r\n");
      out.write("	href=\"https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Nunito:300,300i,400,400i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i\"\r\n");
      out.write("	rel=\"stylesheet\">\r\n");
      out.write("\r\n");
      out.write("<!-- Vendor CSS Files -->\r\n");
      out.write("<link href=\"assetsquantri/vendor/bootstrap/css/bootstrap.min.css\"\r\n");
      out.write("	rel=\"stylesheet\">\r\n");
      out.write("<link href=\"assetsquantri/vendor/bootstrap-icons/bootstrap-icons.css\"\r\n");
      out.write("	rel=\"stylesheet\">\r\n");
      out.write("<link href=\"assetsquantri/vendor/boxicons/css/boxicons.min.css\"\r\n");
      out.write("	rel=\"stylesheet\">\r\n");
      out.write("<link href=\"assetsquantri/vendor/quill/quill.snow.css\" rel=\"stylesheet\">\r\n");
      out.write("<link href=\"assetsquantri/vendor/quill/quill.bubble.css\"\r\n");
      out.write("	rel=\"stylesheet\">\r\n");
      out.write("<link href=\"assetsquantri/vendor/remixicon/remixicon.css\"\r\n");
      out.write("	rel=\"stylesheet\">\r\n");
      out.write("<link href=\"assetsquantri/vendor/simple-datatables/style.css\"\r\n");
      out.write("	rel=\"stylesheet\">\r\n");
      out.write("<link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css\">\r\n");
      out.write("<!-- Template Main CSS File -->\r\n");
      out.write("<link href=\"assetsquantri/css/style.css\" rel=\"stylesheet\">\r\n");
      out.write("<script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\r\n");
      out.write("<!-- =======================================================\r\n");
      out.write("  * Template Name: NiceAdmin\r\n");
      out.write("  * Template URL: https://bootstrapmade.com/nice-admin-bootstrap-admin-html-template/\r\n");
      out.write("  * Updated: Apr 20 2024 with Bootstrap v5.3.3\r\n");
      out.write("  * Author: BootstrapMade.com\r\n");
      out.write("  * License: https://bootstrapmade.com/license/\r\n");
      out.write("  ======================================================== -->\r\n");
      out.write("<style>\r\n");
      out.write("\r\n");
      out.write("/* Che lớp mờ */\r\n");
      out.write("#smoke {\r\n");
      out.write("	position: fixed;\r\n");
      out.write("	top: 0;\r\n");
      out.write("	left: 0;\r\n");
      out.write("	width: 100%;\r\n");
      out.write("	height: 100%;\r\n");
      out.write("	background: rgba(0, 0, 0, 0.5);\r\n");
      out.write("	z-index: 999;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("/* Modal chính */\r\n");
      out.write("#editF {\r\n");
      out.write("	position: fixed;\r\n");
      out.write("	top: 50%;\r\n");
      out.write("	left: 50%;\r\n");
      out.write("	transform: translate(-50%, -50%);\r\n");
      out.write("	width: 400px;\r\n");
      out.write("	background: white;\r\n");
      out.write("	padding: 20px;\r\n");
      out.write("	box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\r\n");
      out.write("	z-index: 1000;\r\n");
      out.write("	border-radius: 8px;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("/* Ẩn các phần tử */\r\n");
      out.write(".hide {\r\n");
      out.write("	display: none;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("/* Nút đóng */\r\n");
      out.write(".close-btn {\r\n");
      out.write("	position: absolute;\r\n");
      out.write("	top: 10px;\r\n");
      out.write("	right: 10px;\r\n");
      out.write("	font-size: 20px;\r\n");
      out.write("	cursor: pointer;\r\n");
      out.write("}\r\n");
      out.write("</style>\r\n");
      out.write("</head>\r\n");
      out.write("\r\n");
      out.write("<body>\r\n");
      out.write("	");

	String projectName = request.getContextPath(); // Lấy tên dự án
	HttpSession s = request.getSession(false);
	List<User> listt = (List<User>) session.getAttribute("Ghinhotaikhoan");
	if(listt == null){
	
      out.write("\r\n");
      out.write("	 <script >\r\n");
      out.write("                alert(\"Vui lòng đăng nhập để xem thông tin\"); // Hiển thị thông báo\r\n");
      out.write("                window.location.href = \"login.jsp\";\r\n");
      out.write("              </script>\r\n");
      out.write("	\r\n");
      out.write("	");
} else{
	for(User u : listt){
		if(u.getMaQuyen()==3){
	
	
      out.write("\r\n");
      out.write("	 <script >\r\n");
      out.write("                alert(\"Bạn không phải là admin vui lòng truy cập tài khoản admin.\"); // Hiển thị thông báo\r\n");
      out.write("                window.location.href = \"login.jsp\";\r\n");
      out.write("              </script>\r\n");
      out.write("	");
}}} 
      out.write("\r\n");
      out.write("	<!-- ======= Header ======= -->\r\n");
      out.write("	<header id=\"header\" class=\"header fixed-top d-flex align-items-center\">\r\n");
      out.write("\r\n");
      out.write("		<div class=\"d-flex align-items-center justify-content-between\">\r\n");
      out.write("			<div class=\"logo d-flex align-items-center\">\r\n");
      out.write("				<img src=\"assetsquantri/img/logo.png\" alt=\"\"> <span\r\n");
      out.write("					class=\"d-none d-lg-block\">T3admin</span>\r\n");
      out.write("			</div>\r\n");
      out.write("			<i class=\"bi bi-list toggle-sidebar-btn\"></i>\r\n");
      out.write("		</div>\r\n");
      out.write("		<!-- End Logo -->\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("		<nav class=\"header-nav ms-auto\">\r\n");
      out.write("			<ul class=\"d-flex align-items-center\">\r\n");
      out.write("\r\n");
      out.write("				<li class=\"nav-item dropdown pe-3\"><a\r\n");
      out.write("					class=\"nav-link nav-profile d-flex align-items-center pe-0\"\r\n");
      out.write("					href=\"#\" data-bs-toggle=\"dropdown\"> <i\r\n");
      out.write("						class=\"bi bi-person-circle\"></i> <span\r\n");
      out.write("						");
if (listt != null) {
	for (User u : listt) {
      out.write("\r\n");
      out.write("						class=\"d-none d-md-block dropdown-toggle ps-2\">");
      out.print(u.getHoTen());
      out.write("\r\n");
      out.write("					</span>\r\n");
      out.write("				</a> <!-- End Profile Iamge Icon -->\r\n");
      out.write("\r\n");
      out.write("					<ul\r\n");
      out.write("						class=\"dropdown-menu dropdown-menu-end dropdown-menu-arrow profile\">\r\n");
      out.write("						<li class=\"dropdown-header\">\r\n");
      out.write("							<h6>");
      out.print(u.getTenTaiKhoan());
      out.write("</h6> ");

 if (u.getMaQuyen() == 1) {
 
      out.write(" <span>Quản trị viên</span> ");

 } else {
 
      out.write(" <span>Khách hàng</span> ");

 }
 
      out.write("\r\n");
      out.write("						</li>\r\n");
      out.write("\r\n");
      out.write("						<li>\r\n");
      out.write("							<hr class=\"dropdown-divider\">\r\n");
      out.write("						</li>\r\n");
      out.write("\r\n");
      out.write("						<li><a class=\"dropdown-item d-flex align-items-center\"\r\n");
      out.write("							href=\"Thongtincanhan.jsp\"> <i class=\"bi bi-person\"></i> <span>Thông\r\n");
      out.write("									tin cá nhân </span>\r\n");
      out.write("						</a></li>\r\n");
      out.write("						<li>\r\n");
      out.write("							<hr class=\"dropdown-divider\">\r\n");
      out.write("						</li>\r\n");
      out.write("						<li><a class=\"dropdown-item d-flex align-items-center\"\r\n");
      out.write("							href=\"Dangxuat\"> <i class=\"bi bi-box-arrow-right\"></i> <span>Đăng\r\n");
      out.write("									xuất</span>\r\n");
      out.write("						</a></li>\r\n");
      out.write("\r\n");
      out.write("					</ul> <!-- End Profile Dropdown Items --></li>\r\n");
      out.write("				");

				}
				}
				
      out.write("\r\n");
      out.write("				<!-- End Profile Nav -->\r\n");
      out.write("\r\n");
      out.write("			</ul>\r\n");
      out.write("		</nav>\r\n");
      out.write("		<!-- End Icons Navigation -->\r\n");
      out.write("\r\n");
      out.write("	</header>\r\n");
      out.write("	<!-- End Header -->\r\n");
      out.write("\r\n");
      out.write("	<!-- ======= Sidebar ======= -->\r\n");
      out.write("\r\n");
      out.write("	<aside id=\"sidebar\" class=\"sidebar\">\r\n");
      out.write("\r\n");
      out.write("		<ul class=\"sidebar-nav\" id=\"sidebar-nav\">\r\n");
      out.write("			<li class=\"nav-heading\">Tổng quan dữ liệu</li>\r\n");
      out.write("			<li class=\"nav-item\"><a class=\"nav-link\"\r\n");
      out.write("				href=\"");
      out.print(projectName);
      out.write("/Bieudodoanhthu\"> <i class=\"fas fa-tachometer-alt\"></i> <span>Biểu đồ\r\n");
      out.write("						thống kê</span>\r\n");
      out.write("			</a></li>\r\n");
      out.write("			<li class=\"nav-heading\">Quản lý bán hàng</li>\r\n");
      out.write("			<li class=\"nav-item\"><a class=\"nav-link collapsed\"\r\n");
      out.write("				href=\"");
      out.print(projectName);
      out.write("/category.jsp\"> <i\r\n");
      out.write("					class=\"bi bi-layout-text-window-reverse\"></i> <span>Danh mục</span>\r\n");
      out.write("			</a></li>\r\n");
      out.write("			<li class=\"nav-item\"><a class=\"nav-link collapsed\"\r\n");
      out.write("				href=\"");
      out.print(projectName);
      out.write("/Donhangquantri.jsp\"> <i\r\n");
      out.write("					class=\"bi bi-cart\"></i> <span>Đơn hàng</span>\r\n");
      out.write("			</a></li>\r\n");
      out.write("			<li class=\"nav-item\"><a class=\"nav-link collapsed\"\r\n");
      out.write("				href=\"");
      out.print(projectName);
      out.write("/productquantri.jsp\"> <i\r\n");
      out.write("					class=\"bi bi-grid\"></i> <span>Sản phẩm</span>\r\n");
      out.write("			</a></li>\r\n");
      out.write("			<li class=\"nav-item\"><a class=\"nav-link collapsed\"\r\n");
      out.write("				href=\"");
      out.print(projectName);
      out.write("/Quanlidanhgia.jsp\"> <i\r\n");
      out.write("					class=\"fa fa-star\"></i> <span>Đánh giá</span>\r\n");
      out.write("			</a></li>\r\n");
      out.write("			<li class=\"nav-item\"><a class=\"nav-link collapsed\"\r\n");
      out.write("				href=\"");
      out.print(projectName);
      out.write("/Quantrikhuyenmai.jsp\"> <i\r\n");
      out.write("					class=\"fas fa-gift\"></i> <span>Khuyến mãi</span>\r\n");
      out.write("			</a></li>\r\n");
      out.write("			<li class=\"nav-item\"><a class=\"nav-link collapsed\"\r\n");
      out.write("				href=\"");
      out.print(projectName);
      out.write("/Quanlibaiviet.jsp\"> <i\r\n");
      out.write("					class=\"fa fa-newspaper\"></i> <span>Bài viết</span>\r\n");
      out.write("			</a></li>\r\n");
      out.write("			<li class=\"nav-heading\">Quản lý tài khoản</li>\r\n");
      out.write("\r\n");
      out.write("			<li class=\"nav-item\"><a class=\"nav-link collapsed\"\r\n");
      out.write("				href=\"");
      out.print(projectName);
      out.write("/account.jsp\"> <i class=\"bi bi-person\"></i>\r\n");
      out.write("					<span>Tài khoản</span>\r\n");
      out.write("			</a></li>\r\n");
      out.write("			<!-- End Profile Page Nav -->\r\n");
      out.write("\r\n");
      out.write("			<li class=\"nav-item\"><a class=\"nav-link collapsed\"\r\n");
      out.write("				href=\"");
      out.print(projectName);
      out.write("/group.jsp\"> <i\r\n");
      out.write("					class=\"bi bi-question-circle\"></i> <span>Phân quyền</span>\r\n");
      out.write("			</a></li>\r\n");
      out.write("			<!-- End F.A.Q Page Nav -->\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("		</ul>\r\n");
      out.write("\r\n");
      out.write("	</aside>\r\n");
      out.write("	<!-- End Sidebar-->\r\n");
      out.write("	<!-- End Sidebar-->\r\n");
      out.write("\r\n");
      out.write("	<main id=\"main\" class=\"main\">\r\n");
      out.write("\r\n");
      out.write("		<div class=\"col-lg-12\">\r\n");
      out.write("			<div class=\"card\">\r\n");
      out.write("				<div class=\"card-body\">\r\n");
      out.write("				 <h5 class=\"card-title\">Thống kê doanh thu theo tháng</h5>\r\n");
      out.write("<canvas id=\"revenueChartMonth\" width=\"800\" height=\"400\"></canvas>\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("				");

    Map<Integer, Double> doanhThuTheoThang = (Map<Integer, Double>) request.getAttribute("doanhthuthang");
    System.out.println("Doanh thu theo tháng bên JSP: " + doanhThuTheoThang);

    // Chuẩn bị dữ liệu labels và data cho biểu đồ theo tháng
    StringBuilder labelsthang = new StringBuilder("[" );
    StringBuilder datathang = new StringBuilder("[");

    for (Map.Entry<Integer, Double> entry : doanhThuTheoThang.entrySet()) {
        labelsthang.append("\"").append(entry.getKey()).append("\", ");
        datathang.append(entry.getValue()).append(", ");
    }

    // Xóa dấu phẩy cuối cùng
    if (labelsthang.length() > 1) labelsthang.setLength(labelsthang.length() - 2);
    if (datathang.length() > 1) datathang.setLength(datathang.length() - 2);

    labelsthang.append("]");
    datathang.append("]");

      out.write("\r\n");
      out.write("\r\n");
      out.write("<script>\r\n");
      out.write("    // Gán dữ liệu từ JSP vào JavaScript\r\n");
      out.write("    const labelsMonth = ");
      out.print( labelsthang.toString() );
      out.write(";\r\n");
      out.write("    const dataMonth = ");
      out.print( datathang.toString() );
      out.write(";\r\n");
      out.write("\r\n");
      out.write("    console.log(\"Labels tháng: \", labelsMonth);\r\n");
      out.write("    console.log(\"Data tháng: \", dataMonth);\r\n");
      out.write("\r\n");
      out.write("    const ctxMonth = document.getElementById('revenueChartMonth').getContext('2d');\r\n");
      out.write("    const revenueChartMonth = new Chart(ctxMonth, {\r\n");
      out.write("        type: 'bar', // Loại biểu đồ: bar\r\n");
      out.write("        data: {\r\n");
      out.write("            labels: labelsMonth,\r\n");
      out.write("            datasets: [{\r\n");
      out.write("                label: 'Doanh thu theo tháng',\r\n");
      out.write("                data: dataMonth,\r\n");
      out.write("                backgroundColor: [\r\n");
      out.write("                	'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(", 0.2)',\r\n");
      out.write("                  	'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(", 0.2)',\r\n");
      out.write("                  	'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(", 0.2)',\r\n");
      out.write("                   	'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(", 0.2)',\r\n");
      out.write("                   	'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(", 0.2)',\r\n");
      out.write("                  	'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(", 0.2)',\r\n");
      out.write("                  	'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(", 0.2)',\r\n");
      out.write("                   	'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(", 0.2)',\r\n");
      out.write("                   	'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(", 0.2)',\r\n");
      out.write("                  	'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(", 0.2)',\r\n");
      out.write("                  	'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(", 0.2)',\r\n");
      out.write("                   	'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(", 0.2)',\r\n");
      out.write("                  ],\r\n");
      out.write("                  borderColor: [\r\n");
      out.write("                	  'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(")',\r\n");
      out.write("                  	'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(")',\r\n");
      out.write("                  	'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(")',\r\n");
      out.write("                   	'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(")',\r\n");
      out.write("                   	'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(")',\r\n");
      out.write("                	'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(")',\r\n");
      out.write("                	'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(")',\r\n");
      out.write("                 	'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(")',\r\n");
      out.write("                 	'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(")',\r\n");
      out.write("                	'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(")',\r\n");
      out.write("                	'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(")',\r\n");
      out.write("                 	'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(")',\r\n");
      out.write("                  ],\r\n");
      out.write("                  borderWidth: 1\r\n");
      out.write("            }]\r\n");
      out.write("        },\r\n");
      out.write("        options: {\r\n");
      out.write("            responsive: true,\r\n");
      out.write("            scales: {\r\n");
      out.write("                x: {\r\n");
      out.write("                    title: {\r\n");
      out.write("                        display: true,\r\n");
      out.write("                        text: 'Tháng'\r\n");
      out.write("                    }\r\n");
      out.write("                },\r\n");
      out.write("                y: {\r\n");
      out.write("                    title: {\r\n");
      out.write("                        display: true,\r\n");
      out.write("                        text: 'Doanh thu '\r\n");
      out.write("                    },\r\n");
      out.write("                    beginAtZero: true\r\n");
      out.write("                }\r\n");
      out.write("            }\r\n");
      out.write("        }\r\n");
      out.write("    });\r\n");
      out.write("\r\n");
      out.write("    // Định nghĩa hàm randomColor nếu chưa có\r\n");
      out.write("    function randomColor() {\r\n");
      out.write("        const r = Math.floor(Math.random() * 256);\r\n");
      out.write("        const g = Math.floor(Math.random() * 256);\r\n");
      out.write("        const b = Math.floor(Math.random() * 256);\r\n");
      out.write("        return `rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${r}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${g}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${b}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(")`;\r\n");
      out.write("    }\r\n");
      out.write("</script>\r\n");
      out.write("				\r\n");
      out.write("					<!-- End Bar CHart -->\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("					 <h5 class=\"card-title\">Thống kê doanh thu theo ngày</h5>\r\n");
      out.write("					<canvas id=\"revenueChart\" width=\"800\" height=\"400\"></canvas>\r\n");
      out.write("\r\n");
      out.write("					");

					// Lấy dữ liệu từ request
					Map<String, Double> doanhThuMap = (Map<String, Double>) request.getAttribute("doanhThuMap");
					System.out.print("Doanh thu bên jsp là: " + doanhThuMap);
					// Chuẩn bị dữ liệu labels và data cho biểu đồ
					StringBuilder labels = new StringBuilder("[");
					StringBuilder data = new StringBuilder("[");

					for (Map.Entry<String, Double> entry : doanhThuMap.entrySet()) {
						labels.append("\"").append(entry.getKey()).append("\", ");
						data.append(entry.getValue()).append(", ");
					}

					// Xóa dấu phẩy cuối cùng
					if (labels.length() > 1)
						labels.setLength(labels.length() - 2);
					if (data.length() > 1)
						data.setLength(data.length() - 2);

					labels.append("]");
					data.append("]");
					
      out.write("\r\n");
      out.write("\r\n");
      out.write("					<script>\r\n");
      out.write("        // Gán dữ liệu từ JSP vào JavaScript\r\n");
      out.write("        const labels = ");
      out.print(labels.toString());
      out.write(";\r\n");
      out.write("        const data = ");
      out.print(data.toString());
      out.write(";\r\n");
      out.write("\r\n");
      out.write("        console.log(\"Labels: \", labels);\r\n");
      out.write("        console.log(\"Data: \", data);\r\n");
      out.write("        // Vẽ biểu đồ với Chart.js\r\n");
      out.write("        const ctx = document.getElementById('revenueChart').getContext('2d');\r\n");
      out.write("        const revenueChart = new Chart(ctx, {\r\n");
      out.write("            type: 'bar', // Loại biểu đồ: bar\r\n");
      out.write("            data: {\r\n");
      out.write("                labels: labels,\r\n");
      out.write("                datasets: [{\r\n");
      out.write("                    label: 'Doanh thu ',\r\n");
      out.write("                    data: data,\r\n");
      out.write("                    backgroundColor: [\r\n");
      out.write("                    	'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(", 0.2)',\r\n");
      out.write("                      	'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(", 0.2)',\r\n");
      out.write("                      	'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(", 0.2)',\r\n");
      out.write("                       	'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(", 0.2)',\r\n");
      out.write("                       	'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(", 0.2)',\r\n");
      out.write("                      	'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(", 0.2)',\r\n");
      out.write("                      	'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(", 0.2)',\r\n");
      out.write("                       	'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(", 0.2)',\r\n");
      out.write("                       	'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(", 0.2)',\r\n");
      out.write("                      	'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(", 0.2)',\r\n");
      out.write("                      	'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(", 0.2)',\r\n");
      out.write("                       	'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(", 0.2)',\r\n");
      out.write("                      ],\r\n");
      out.write("                      borderColor: [\r\n");
      out.write("                    	  'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(")',\r\n");
      out.write("                      	'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(")',\r\n");
      out.write("                      	'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(")',\r\n");
      out.write("                       	'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(")',\r\n");
      out.write("                       	'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(")',\r\n");
      out.write("                    	'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(")',\r\n");
      out.write("                    	'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(")',\r\n");
      out.write("                     	'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(")',\r\n");
      out.write("                     	'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(")',\r\n");
      out.write("                    	'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(")',\r\n");
      out.write("                    	'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(")',\r\n");
      out.write("                     	'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(")',\r\n");
      out.write("                      ],\r\n");
      out.write("                      borderWidth: 1\r\n");
      out.write("                }]\r\n");
      out.write("            },\r\n");
      out.write("            options: {\r\n");
      out.write("                responsive: true,\r\n");
      out.write("                scales: {\r\n");
      out.write("                    x: {\r\n");
      out.write("                        title: {\r\n");
      out.write("                            display: true,\r\n");
      out.write("                            text: 'Ngày đặt hàng'\r\n");
      out.write("                        }\r\n");
      out.write("                    },\r\n");
      out.write("                    y: {\r\n");
      out.write("                        title: {\r\n");
      out.write("                            display: true,\r\n");
      out.write("                            text: 'Doanh thu '\r\n");
      out.write("                        },\r\n");
      out.write("                        beginAtZero: true\r\n");
      out.write("                    }\r\n");
      out.write("                }\r\n");
      out.write("            }\r\n");
      out.write("        });\r\n");
      out.write("    </script>\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("            <h5 class=\"card-title\">Thống kê số lượng sản phẩm</h5>\r\n");
      out.write("\r\n");
      out.write("            <!-- Pie Chart -->\r\n");
      out.write("            <canvas id=\"pieChart\" style=\"max-height: 400px;\"></canvas>\r\n");
      out.write("\r\n");
      out.write("            <script>\r\n");
      out.write("                document.addEventListener(\"DOMContentLoaded\", () => {\r\n");
      out.write("                    // Lấy dữ liệu Map từ request.setAttribute (chuỗi JSON từ Servlet)\r\n");
      out.write("                    const soLuongsanpham = JSON.parse('");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${soLuongSanPham}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("');  // Chuyển chuỗi JSON thành đối tượng JavaScript\r\n");
      out.write("                    \r\n");
      out.write("                    // Lấy tên sản phẩm và số lượng từ Map\r\n");
      out.write("                    const productNames = Object.keys(soLuongsanpham);\r\n");
      out.write("                    const quantities = Object.values(soLuongsanpham);\r\n");
      out.write("                    \r\n");
      out.write("                    // Tạo mảng màu ngẫu nhiên cho biểu đồ\r\n");
      out.write("                    const randomColors = quantities.map(() => \r\n");
      out.write("                        `rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(")`\r\n");
      out.write("                    );\r\n");
      out.write("\r\n");
      out.write("                    // Vẽ biểu đồ tròn\r\n");
      out.write("                    new Chart(document.querySelector('#pieChart'), {\r\n");
      out.write("                        type: 'pie',\r\n");
      out.write("                        data: {\r\n");
      out.write("                            labels: productNames,  // Tên sản phẩm\r\n");
      out.write("                            datasets: [{\r\n");
      out.write("                                label: 'Danh mục sản phẩm',\r\n");
      out.write("                                data: quantities,  // Dữ liệu số lượng sản phẩm\r\n");
      out.write("                                backgroundColor: [\r\n");
      out.write("                                	'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(")',\r\n");
      out.write("                                	'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(")',\r\n");
      out.write("                                	'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(")',\r\n");
      out.write("                                 	'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(")',\r\n");
      out.write("                                 	'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(")',\r\n");
      out.write("                                	'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(")',\r\n");
      out.write("                                	'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(")',\r\n");
      out.write("                                 	'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(")',\r\n");
      out.write("                                 	'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(")',\r\n");
      out.write("                                	'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(")',\r\n");
      out.write("                                	'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(")',\r\n");
      out.write("                                 	'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(")',\r\n");
      out.write("                                 	 \r\n");
      out.write("                                ],\r\n");
      out.write("                                hoverOffset: 4\r\n");
      out.write("                            }]\r\n");
      out.write("                        },\r\n");
      out.write("                        options: {\r\n");
      out.write("                            responsive: true,\r\n");
      out.write("                            plugins: {\r\n");
      out.write("                                tooltip: {\r\n");
      out.write("                                    callbacks: {\r\n");
      out.write("                                        label: function(tooltipItem) {\r\n");
      out.write("                                            return tooltipItem.label + ': ' + tooltipItem.raw + ' sản phẩm';\r\n");
      out.write("                                        }\r\n");
      out.write("                                    }\r\n");
      out.write("                                }\r\n");
      out.write("                            }\r\n");
      out.write("                        }\r\n");
      out.write("                    });\r\n");
      out.write("                });\r\n");
      out.write("            </script>\r\n");
      out.write("     \r\n");
      out.write("\r\n");
      out.write("				</div>\r\n");
      out.write("			</div>\r\n");
      out.write("		</div>\r\n");
      out.write("		\r\n");
      out.write("		<!-- <div class=\"row\">\r\n");
      out.write("			<div class=\"col-lg-6\">\r\n");
      out.write("				<div class=\"card\">\r\n");
      out.write("					<div class=\"card-body\">\r\n");
      out.write("						<h5 class=\"card-title\">Cơ cấu cửa hàng</h5>\r\n");
      out.write("\r\n");
      out.write("						Pie Chart\r\n");
      out.write("						<canvas id=\"pieChart\" style=\"max-height: 400px;\"></canvas>\r\n");
      out.write("						<script>\r\n");
      out.write("                document.addEventListener(\"DOMContentLoaded\", () => {\r\n");
      out.write("                  new Chart(document.querySelector('#pieChart'), {\r\n");
      out.write("                    type: 'pie',\r\n");
      out.write("                    data: {\r\n");
      out.write("                      labels: [\r\n");
      out.write("                    	'a','b', 'c', 'd', 'e', 'f', 'g'],\r\n");
      out.write("                      datasets: [{\r\n");
      out.write("                        label: 'danh mục sản phẩm',\r\n");
      out.write("                        data: [130, 50, 100, 120, 110, 50],\r\n");
      out.write("                        backgroundColor: [\r\n");
      out.write("                        	'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(")',\r\n");
      out.write("                        	'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(")',\r\n");
      out.write("                        	'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(")',\r\n");
      out.write("                         	'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(")',\r\n");
      out.write("                         	'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(")',\r\n");
      out.write("                        	'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(")',\r\n");
      out.write("                        	'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(")',\r\n");
      out.write("                         	'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(")',\r\n");
      out.write("                         	'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(")',\r\n");
      out.write("                        	'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(")',\r\n");
      out.write("                        	'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(")',\r\n");
      out.write("                         	'rgb(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(',');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${Math.random() * 255}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(")',\r\n");
      out.write("                         	 \r\n");
      out.write("                        ],\r\n");
      out.write("                        hoverOffset: 4\r\n");
      out.write("                      }]\r\n");
      out.write("                    }\r\n");
      out.write("                  });\r\n");
      out.write("                });\r\n");
      out.write("              </script>\r\n");
      out.write("						End Pie CHart\r\n");
      out.write("\r\n");
      out.write("					</div>\r\n");
      out.write("				</div>\r\n");
      out.write("			</div> -->\r\n");
      out.write("			\r\n");
      out.write("			\r\n");
      out.write("			<!-- Bar Chart -->\r\n");
      out.write("			<!--Thống kê mặt hàng bán chạy nhất  -->\r\n");
      out.write("			<h5 class=\"card-title\">Mặt hàng bán chạy nhất</h5>\r\n");
      out.write("			<canvas id=\"topSellingChart\" style=\"max-height: 400px;\"></canvas>\r\n");
      out.write("\r\n");
      out.write("			");

			// Lấy danh sách mặt hàng bán chạy từ request
			List<SanPham> banHangList = (List<SanPham>) request.getAttribute("soLuongHangBanChay");
			System.out.println("Mặt hàng bán chạy nhất bên jsp: " + banHangList);

			// Xây dựng chuỗi labels1 và data1
			StringBuilder labels1 = new StringBuilder("[");
			StringBuilder data1 = new StringBuilder("[");

			for (SanPham item : banHangList) {
				labels1.append("\"").append(item.getTenSanPham()).append("\", ");
				data1.append(item.getSoLuong()).append(", ");
			}

			// Xóa dấu phẩy cuối cùng
			if (labels1.length() > 1)
				labels1.setLength(labels1.length() - 2);
			if (data1.length() > 1)
				data1.setLength(data1.length() - 2);

			labels1.append("]");
			data1.append("]");
			
      out.write("\r\n");
      out.write("\r\n");
      out.write("			<script>\r\n");
      out.write("    document.addEventListener(\"DOMContentLoaded\", () => {\r\n");
      out.write("        new Chart(document.querySelector('#topSellingChart'), {\r\n");
      out.write("            type: 'bar', // Loại biểu đồ: bar\r\n");
      out.write("            data: {\r\n");
      out.write("                labels: ");
      out.print(labels1.toString());
      out.write(",  // Labels là tên sản phẩm\r\n");
      out.write("                datasets: [{\r\n");
      out.write("                    label: 'Số lượng bán',\r\n");
      out.write("                    data: ");
      out.print(data1.toString());
      out.write(",  // Dữ liệu là số lượng bán\r\n");
      out.write("                    backgroundColor: [\r\n");
      out.write("                        'rgba(255, 99, 132, 0.2)', \r\n");
      out.write("                        'rgba(54, 162, 235, 0.2)', \r\n");
      out.write("                        'rgba(255, 206, 86, 0.2)', \r\n");
      out.write("                        'rgba(75, 192, 192, 0.2)',\r\n");
      out.write("                        'rgba(153, 102, 255, 0.2)',\r\n");
      out.write("                        'rgba(255, 159, 64, 0.2)',\r\n");
      out.write("                    ],\r\n");
      out.write("                    borderColor: [\r\n");
      out.write("                        'rgba(255, 99, 132, 1)',\r\n");
      out.write("                        'rgba(54, 162, 235, 1)',\r\n");
      out.write("                        'rgba(255, 206, 86, 1)',\r\n");
      out.write("                        'rgba(75, 192, 192, 1)',\r\n");
      out.write("                        'rgba(153, 102, 255, 1)',\r\n");
      out.write("                        'rgba(255, 159, 64, 1)',\r\n");
      out.write("                    ],\r\n");
      out.write("                    borderWidth: 1\r\n");
      out.write("                }]\r\n");
      out.write("            },\r\n");
      out.write("            options: {\r\n");
      out.write("                responsive: true,\r\n");
      out.write("                scales: {\r\n");
      out.write("                    x: {\r\n");
      out.write("                        title: {\r\n");
      out.write("                            display: true,\r\n");
      out.write("                            text: 'Tên sản phẩm'\r\n");
      out.write("                        }\r\n");
      out.write("                    },\r\n");
      out.write("                    y: {\r\n");
      out.write("                        title: {\r\n");
      out.write("                            display: true,\r\n");
      out.write("                            text: 'Số lượng bán'\r\n");
      out.write("                        },\r\n");
      out.write("                        beginAtZero: true\r\n");
      out.write("                    }\r\n");
      out.write("                }\r\n");
      out.write("            }\r\n");
      out.write("        });\r\n");
      out.write("    });\r\n");
      out.write("</script>\r\n");
      out.write("\r\n");
      out.write("			<!-- End Bar Chart -->\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("			<!-- <div class=\"col-lg-6\">\r\n");
      out.write("				<div class=\"card\">\r\n");
      out.write("					<div class=\"card-body\">\r\n");
      out.write("						<h5 class=\"card-title\">Biểu đồ cơ cấu giá</h5>\r\n");
      out.write("\r\n");
      out.write("						Column Chart\r\n");
      out.write("						<div id=\"columnChart\"></div>\r\n");
      out.write("\r\n");
      out.write("						<script>\r\n");
      out.write("                document.addEventListener(\"DOMContentLoaded\", () => {\r\n");
      out.write("                  new ApexCharts(document.querySelector(\"#columnChart\"), {\r\n");
      out.write("                    series: [{\r\n");
      out.write("                      name: 'số lượng đơn mua',\r\n");
      out.write("                      data: [44, 55, 57, 56, 61, 58, 63, 60, 66]\r\n");
      out.write("                    }, {\r\n");
      out.write("                      name: 'Tổng giá',\r\n");
      out.write("                      data: [76, 85, 101, 98, 87, 105, 91, 114, 94]\r\n");
      out.write("                    }, {\r\n");
      out.write("                      name: 'Giá áp khuyến mãi',\r\n");
      out.write("                      data: [35, 41, 36, 26, 45, 48, 52, 53, 41]\r\n");
      out.write("                    }],\r\n");
      out.write("                    chart: {\r\n");
      out.write("                      type: 'bar',\r\n");
      out.write("                      height: 350\r\n");
      out.write("                    },\r\n");
      out.write("                    plotOptions: {\r\n");
      out.write("                      bar: {\r\n");
      out.write("                        horizontal: false,\r\n");
      out.write("                        columnWidth: '55%',\r\n");
      out.write("                        endingShape: 'rounded'\r\n");
      out.write("                      },\r\n");
      out.write("                    },\r\n");
      out.write("                    dataLabels: {\r\n");
      out.write("                      enabled: false\r\n");
      out.write("                    },\r\n");
      out.write("                    stroke: {\r\n");
      out.write("                      show: true,\r\n");
      out.write("                      width: 2,\r\n");
      out.write("                      colors: ['transparent']\r\n");
      out.write("                    },\r\n");
      out.write("                    xaxis: {\r\n");
      out.write("                      categories: ['Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct'],\r\n");
      out.write("                    },\r\n");
      out.write("                    yaxis: {\r\n");
      out.write("                      title: {\r\n");
      out.write("                        text: '$ (thousands)'\r\n");
      out.write("                      }\r\n");
      out.write("                    },\r\n");
      out.write("                    fill: {\r\n");
      out.write("                      opacity: 1\r\n");
      out.write("                    },\r\n");
      out.write("                    tooltip: {\r\n");
      out.write("                      y: {\r\n");
      out.write("                        formatter: function(val) {\r\n");
      out.write("                          return \"$ \" + val + \" thousands\"\r\n");
      out.write("                        }\r\n");
      out.write("                      }\r\n");
      out.write("                    }\r\n");
      out.write("                  }).render();\r\n");
      out.write("                });\r\n");
      out.write("              </script>\r\n");
      out.write("						End Column Chart\r\n");
      out.write("\r\n");
      out.write("					</div>\r\n");
      out.write("				</div>\r\n");
      out.write("			</div> -->\r\n");
      out.write("		</div>\r\n");
      out.write("	</main>\r\n");
      out.write("	<!-- End #main -->\r\n");
      out.write("	<div id=\"smoke\" class=\"smoke hide\"></div>\r\n");
      out.write("	<div id=\"smoke2\" class=\"smoke hide\" style=\"z-index: 2221\"></div>\r\n");
      out.write("	<!-- ======= Footer ======= -->\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("	<a href=\"#\"\r\n");
      out.write("		class=\"back-to-top d-flex align-items-center justify-content-center\"><i\r\n");
      out.write("		class=\"bi bi-arrow-up-short\"></i></a>\r\n");
      out.write("\r\n");
      out.write("	<!-- Vendor JS Files -->\r\n");
      out.write("	<script src=\"assetsquantri/vendor/apexcharts/apexcharts.min.js\"></script>\r\n");
      out.write("	<script src=\"assetsquantri/vendor/bootstrap/js/bootstrap.bundle.min.js\"></script>\r\n");
      out.write("	<script src=\"assetsquantri/vendor/chart.js/chart.umd.js\"></script>\r\n");
      out.write("	<script src=\"assetsquantri/vendor/echarts/echarts.min.js\"></script>\r\n");
      out.write("	<script src=\"assetsquantri/vendor/quill/quill.js\"></script>\r\n");
      out.write("	<script\r\n");
      out.write("		src=\"assetsquantri/vendor/simple-datatables/simple-datatables.js\"></script>\r\n");
      out.write("	<script src=\"assetsquantri/vendor/tinymce/tinymce.min.js\"></script>\r\n");
      out.write("	<script src=\"assetsquantri/vendor/php-email-form/validate.js\"></script>\r\n");
      out.write("\r\n");
      out.write("	<!-- Template Main JS File -->\r\n");
      out.write("	<script src=\"assetsquantri/js/main.js\"></script>\r\n");
      out.write("	<script>\r\n");
      out.write("	document.getElementById('addb').addEventListener('click', toggleUpload);\r\n");
      out.write("	function toggleUpload() {\r\n");
      out.write("	    const addForm = document.getElementById('addf');\r\n");
      out.write("	    addForm.classList.toggle('hide');\r\n");
      out.write("	}\r\n");
      out.write("\r\n");
      out.write("	document.getElementById('adds').addEventListener('click', styleUpload);\r\n");
      out.write("	function styleUpload() {\r\n");
      out.write("	    const addStyle = document.getElementById('addstyle');\r\n");
      out.write("	    addStyle.classList.toggle('hide');\r\n");
      out.write("	}\r\n");
      out.write("\r\n");
      out.write("	const form = document.getElementById('inputForm');\r\n");
      out.write("	const submitButton = document.getElementById('submitButton');\r\n");
      out.write("	const tableBody = document.querySelector('#recordsTable tbody');\r\n");
      out.write("\r\n");
      out.write("	let records = [];\r\n");
      out.write("	const updateTable = () => {\r\n");
      out.write("	    tableBody.innerHTML = \"\";\r\n");
      out.write("	    if (records.length === 0) {\r\n");
      out.write("	        tableBody.innerHTML = `<tr><td>Chưa có kiểu dáng nào được thêm</td></tr>`;\r\n");
      out.write("	        return;\r\n");
      out.write("	    }\r\n");
      out.write("	    records.forEach((record, index) => {\r\n");
      out.write("	        const row = document.createElement('tr');\r\n");
      out.write("	        row.innerHTML = `\r\n");
      out.write("	            <td>");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${index + 1}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("</td>\r\n");
      out.write("	            <td>");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${record.color}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("</td>\r\n");
      out.write("	            <td>");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${record.size}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("</td>\r\n");
      out.write("	            <td>");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${record.quantity}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("</td>\r\n");
      out.write("	        `;\r\n");
      out.write("	        tableBody.appendChild(row);\r\n");
      out.write("	    });\r\n");
      out.write("	};\r\n");
      out.write("\r\n");
      out.write("	submitButton.addEventListener('click', () => {\r\n");
      out.write("	    const color = document.getElementById('inputColor').value.trim();\r\n");
      out.write("	    const size = document.getElementById('inputSize').value.trim();\r\n");
      out.write("	    const quantity = document.getElementById('inputQuantity').value.trim();\r\n");
      out.write("\r\n");
      out.write("	    if (!color || !size || !quantity) {\r\n");
      out.write("	        alert(\"hãy nhập đầy đủ các mục\");\r\n");
      out.write("	        return;\r\n");
      out.write("	    }\r\n");
      out.write("\r\n");
      out.write("	    records.push({ color, size, quantity });\r\n");
      out.write("	    updateTable();\r\n");
      out.write("	    form.reset();\r\n");
      out.write("	});\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("/* function editForm() {\r\n");
      out.write("    const editF = document.getElementById('editF');\r\n");
      out.write("    const smoke = document.getElementById('smoke');\r\n");
      out.write("    editF.classList.remove('hide');\r\n");
      out.write("    smoke.classList.remove('hide');\r\n");
      out.write("} */\r\n");
      out.write("//Hàm mở modal\r\n");
      out.write("function editForm(button) {\r\n");
      out.write("    const editF = document.getElementById('editF'); // Modal chỉnh sửa\r\n");
      out.write("    const smoke = document.getElementById('smoke'); // Lớp mờ nền\r\n");
      out.write("    const productIdInput = document.getElementById('product-id'); // Ô input chứa ID sản phẩm\r\n");
      out.write("\r\n");
      out.write("    // Lấy ID từ nút bấm và gán vào ô input\r\n");
      out.write("    const productId = button.getAttribute('data-id');\r\n");
      out.write("    productIdInput.value = productId;\r\n");
      out.write("\r\n");
      out.write("    // Hiển thị modal và lớp mờ nền\r\n");
      out.write("    editF.classList.remove('hide');\r\n");
      out.write("    smoke.classList.remove('hide');\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("// Hàm đóng modal\r\n");
      out.write("function closeModal(event) {\r\n");
      out.write("    const editF = document.getElementById('editF');\r\n");
      out.write("    const smoke = document.getElementById('smoke');\r\n");
      out.write("\r\n");
      out.write("    // Nếu click vào lớp mờ hoặc nút đóng\r\n");
      out.write("    if (!event || event.target === smoke || event.target.classList.contains('close-btn')) {\r\n");
      out.write("        editF.classList.add('hide');\r\n");
      out.write("        smoke.classList.add('hide');\r\n");
      out.write("    }\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("// Xử lý nút lưu\r\n");
      out.write(" function handleSave(event) {\r\n");
      out.write("   /*  event.preventDefault(); // Ngăn chặn reload trang\r\n");
      out.write("    alert('Đã lưu thông tin!'); */\r\n");
      out.write("    closeModal(); // Đóng modal sau khi lưu\r\n");
      out.write("} \r\n");
      out.write("\r\n");
      out.write("function detailForm() {\r\n");
      out.write("    const detailF = document.getElementById('detailF');\r\n");
      out.write("    const smoke = document.getElementById('smoke');\r\n");
      out.write("    detailF.classList.remove('hide');\r\n");
      out.write("    smoke.classList.remove('hide');\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("document.getElementById('smoke').addEventListener('click', function () {\r\n");
      out.write("    document.getElementById('smoke').classList.add('hide');\r\n");
      out.write("    document.getElementById('editF').classList.add('hide');\r\n");
      out.write("    document.getElementById('detailF').classList.add('hide');\r\n");
      out.write("    saveTabState('');\r\n");
      out.write("});\r\n");
      out.write(" function editsForm() {\r\n");
      out.write("    const editS = document.getElementById('editS');\r\n");
      out.write("    const smoke = document.getElementById('smoke2');\r\n");
      out.write("    editS.classList.remove('hide');\r\n");
      out.write("    smoke2.classList.remove('hide');\r\n");
      out.write("} \r\n");
      out.write("document.getElementById('smoke2').addEventListener('click', function () {\r\n");
      out.write("    document.getElementById('smoke2').classList.add('hide');\r\n");
      out.write("    document.getElementById('editS').classList.add('hide');\r\n");
      out.write("    saveTabState('');\r\n");
      out.write("});\r\n");
      out.write("\r\n");
      out.write("// Lưu trạng thái tab vào Local Storage\r\n");
      out.write("function saveTabState(tabId) {\r\n");
      out.write("    localStorage.setItem('activeTab', tabId);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("// Khôi phục trạng thái tab khi load lại trang\r\n");
      out.write("window.addEventListener('load', () => {\r\n");
      out.write("    const activeTab = localStorage.getItem('activeTab');\r\n");
      out.write("    if (activeTab) {\r\n");
      out.write("        document.getElementById(activeTab)?.classList.remove('hide');\r\n");
      out.write("        document.getElementById('smoke')?.classList.remove('hide');\r\n");
      out.write("    }\r\n");
      out.write("});\r\n");
      out.write("//Sử dụng sự kiện click cho tất cả các nút sửa\r\n");
      out.write("document.querySelectorAll('.editB').forEach(button => {\r\n");
      out.write("    button.addEventListener('click', function() {\r\n");
      out.write("        var productId = this.getAttribute('data-id');\r\n");
      out.write("        // Mở form sửa sản phẩm hoặc xử lý các hành động khác\r\n");
      out.write("        console.log(\"Sửa sản phẩm với ID: \" + productId);\r\n");
      out.write("        // Thực hiện các thao tác liên quan, ví dụ hiển thị form sửa\r\n");
      out.write("    });\r\n");
      out.write("});\r\n");
      out.write("\r\n");
      out.write("</script>\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("</body>\r\n");
      out.write("\r\n");
      out.write("</html>");
    } catch (java.lang.Throwable t) {
      if (!(t instanceof jakarta.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try {
            if (response.isCommitted()) {
              out.flush();
            } else {
              out.clearBuffer();
            }
          } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
